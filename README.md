# 🕹️ Real-Time Pong Simulation for FPGA System Design

이 프로젝트는 **FPGA 기반의 VGA 탁구 게임 시스템**을 구현하기 전, Python 환경에서 **포물선 운동 로직**,  
**영상기반 Paddle 제어**, **충돌 판정**, **패배 조건 처리**, **UI 시뮬레이션**을 먼저 개발하고 검증한 시뮬레이션입니다.

실제 카메라를 사용할 수 없는 환경에서도 **OpenCV와 Pygame을 조합**하여 전체 구조를 논리적으로 사전 구현하고,  
하드웨어 타겟(Verilog/FPGA)에 필요한 제어 흐름과 피지컬 반응을 정량적으로 튜닝할 수 있게 만들었습니다.

---

## ✅ 프로젝트 목적

- **FPGA + 카메라(OV7670) + VGA 모니터**를 활용한 실시간 탁구 게임 시스템을 개발하기 위해
- Python으로 **시뮬레이션 구조를 설계하고 구현**함으로써 실제 하드웨어 설계에 앞서 충돌 로직, 타이밍, 좌표계 등을 검증
- 실제 카메라 입력 없이도 Paddle 제어를 테스트하기 위해 **가짜 프레임 기반 Paddle 인식 시스템 구현**

---

## ✅ 핵심 기능 요약

| 기능 요소 | 구현 상세 |
|-----------|-----------|
| 🎯 포물선 궤적 | 중력 가속도를 적용하여 공이 곡선을 그리며 이동 |
| 🖱️ Paddle 제어 | 마우스를 따라가는 흰색 사각형을 영상 프레임에 그려 OpenCV로 인식 |
| 🧠 물체 인식 → 제어 흐름 | OpenCV의 HSV 마스크 → Contour → 중심좌표 → Paddle 위치로 매핑 |
| 💥 충돌 처리 | Paddle 충돌 시 강한 반사 및 위치 보정 (`튕겨나감` 느낌 구현) |
| ❌ 승패 판정 | 공이 오른쪽 벽을 넘으면 `Lose` 상태로 진입 |
| 🔁 게임 재시작 | 스페이스바를 눌러 즉시 초기화 |
| 📦 전체 화면 제어 | Paddle이 화면 어디든 이동 가능 (x/y 자유 제어) |

---

## 🎯 실제 카메라 없이 영상 처리 시뮬레이션하는 방식

> Python에서는 `cv2.VideoCapture()` 대신 가짜 영상 프레임(`camera_frame`)을 사용하여,  
> 마우스 위치를 따라가는 흰색 Paddle을 `cv2.rectangle()`로 직접 그림  
> → OpenCV가 이를 실제 영상처럼 인식  
> → Contour 분석을 통해 Paddle 중심 좌표 계산  
> → Pygame에서 해당 위치에 Paddle을 렌더링

---

## 🔁 초기 버전 대비 개선된 점

| 항목 | 초기 상태 | 최종 구현 |
|------|-----------|-----------|
| 공 이동 | 직선 수평 이동 | 중력 기반 포물선 궤적 |
| Paddle 제어 | 키보드로 y축 이동만 가능 | OpenCV 기반 영상 인식으로 x/y 전체 이동 |
| Paddle 충돌 | 단순 방향 반전 | 위치 보정 + 강한 반사 속도 |
| 화면 끝 처리 | 벽 튕김 | 오른쪽 벽 → `Lose` 상태 |
| UI 구성 | 없음 | `"Lose"` 메시지 출력 및 스페이스바로 재시작 가능 |

---

## 🧑‍💻 실행 전 필요한 라이브러리 다운운

```bash
pip install pygame opencv-python numpy
